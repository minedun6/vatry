{% extends '@App/Back/index.html.twig' %}

{% block page_title %}
    {% if new is defined and new == true %}
        Création d'un utilisateur
    {% else %}
        Modification d'un utilisateur
    {% endif %}
{% endblock %}

{% block javascripts %}
    {{ parent() }}

    {% if new is defined and new == true %}
        <script>
            $(function() {
                $("#person_add_country").val('FR');
            });
        </script>
    {% endif %}
{% endblock %}

{% block content %}

    {{ form_start(form) }}

    <div class="col-md-6">

        <div class="row">
            <div class="col-xs-12">
                <label class="required">Nom</label>
                {{ form_widget(form.lastname,{ 'attr' : { 'class' : 'form-control' } }) }}
                {{ form_errors(form.lastname) }}
            </div>
        </div>

        <div class="row">
            <div class="col-xs-12">
                <label class="required">Prénom</label>
                {{ form_widget(form.name,{ 'attr' : { 'class' : 'form-control' } }) }}
                {{ form_errors(form.name) }}
            </div>
        </div>

        <div class="row">
            <div class="col-xs-12">
                <label class="required">Civilité</label>
                {{ form_widget(form.civility,{ 'attr' : { 'class' : 'form-control' } }) }}
                {{ form_errors(form.civility) }}
            </div>
        </div>

        <div class="row">
            <div class="col-xs-12">
                <label class="required">Adresse</label>
                {{ form_widget(form.address,{ 'attr' : { 'class' : 'form-control' } }) }}
                {{ form_errors(form.address) }}
            </div>
        </div>

    </div>

    <div class="col-md-6">

        <div class="row">
            <div class="col-xs-8">
                <label for="">Ville</label>
                {{ form_widget(form.town,{ 'attr' : { 'class' : 'form-control' } }) }}
                {{ form_errors(form.town) }}
            </div>
            <div class="col-xs-4">
                <label for="">Code Postal</label>
                {{ form_widget(form.zipCode,{ 'attr' : { 'class' : 'form-control' } }) }}
                {{ form_errors(form.zipCode) }}
            </div>
        </div>

        <div class="row">
            <div class="col-xs-12">
                <label for="">Pays</label>
                {{ form_widget(form.country,{ 'attr' : { 'class' : 'form-control' } }) }}
                {{ form_errors(form.country) }}
            </div>
        </div>

        <div class="row">
            <div class="col-xs-6">
                <label for="">Téléphone</label>
                {{ form_widget(form.tel,{ 'attr' : { 'class' : 'form-control' } }) }}
                {{ form_errors(form.tel) }}
            </div>
            <div class="col-xs-6">
                <label class="required">Email/Nom d'utilisateur</label>
                {{ form_widget(form.user.email,{ 'attr' : { 'class' : 'form-control' } }) }}
                {{ form_errors(form.user.email) }}
            </div>
        </div>

        <div class="row">
            <div class="col-xs-12">
                <label class="required">Type d'utilisateur</label>
                {{ form_widget(form.user.type,{ 'attr' : { 'class' : 'form-control' } }) }}
                {{ form_errors(form.user.type) }}
            </div>
        </div>

    </div>

    <div class="row">
        <div style="text-align: right" class="col-xs-6">
            <button type="submit" class="btn medium btn-success">Enregistrer</button>
            <button type="reset" class="btn medium btn-danger">Annuler</button>
        </div>
    </div>

    {{ form_end(form) }}

{% endblock %}